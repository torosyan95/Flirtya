<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Flirtya</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/animations.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <!-- Загрузочный экран -->
    <div id="loading-screen">
        <div class="loading-container">
            <div class="logo-container">
                <img src="assets/images/logo.svg" alt="Flirtya Logo" class="logo">
            </div>
            <div class="loader"></div>
        </div>
    </div>

    <!-- Онбординг -->
    <div id="onboarding" class="screen hidden">
        <div class="onboarding-slider">
            <div class="slide active" id="slide-1">
                <div class="slide-content">
                    <h1 data-i18n="onboarding_welcome">Welcome to Flirtya</h1>
                    <p data-i18n="onboarding_subtitle">Find your perfect match right here in Telegram</p>
                    <img src="assets/images/onboarding-1.svg" alt="Welcome" class="onboarding-image">
                </div>
            </div>
            <div class="slide" id="slide-2">
                <div class="slide-content">
                    <h1 data-i18n="onboarding_swipe">Swipe & Match</h1>
                    <p data-i18n="onboarding_swipe_text">Find people who share your interests</p>
                    <img src="assets/images/onboarding-2.svg" alt="Swipe" class="onboarding-image">
                </div>
            </div>
            <div class="slide" id="slide-3">
                <div class="slide-content">
                    <h1 data-i18n="onboarding_chat">Chat & Connect</h1>
                    <p data-i18n="onboarding_chat_text">Start meaningful conversations</p>
                    <img src="assets/images/onboarding-3.svg" alt="Chat" class="onboarding-image">
                </div>
            </div>
        </div>
        <div class="onboarding-controls">
            <div class="dots">
                <span class="dot active" data-slide="0"></span>
                <span class="dot" data-slide="1"></span>
                <span class="dot" data-slide="2"></span>
            </div>
            <div class="buttons">
                <button class="btn-skip" data-i18n="skip">Skip</button>
                <button class="btn-next" data-i18n="next">Next</button>
            </div>
        </div>
    </div>

    <!-- Регистрация -->
    <div id="registration" class="screen hidden">
        <div class="registration-container">
            <h1 data-i18n="create_account">Create Account</h1>
            <form id="registration-form">
                <div class="form-step active" id="step-personal">
                    <div class="form-group">
                        <label for="name" data-i18n="name">Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email" data-i18n="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone" data-i18n="phone">Phone</label>
                        <input type="tel" id="phone" name="phone">
                    </div>
                    <div class="form-group">
                        <label for="password" data-i18n="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <div class="form-group">
                        <label for="birthdate" data-i18n="birth_date">Birth Date</label>
                        <input type="date" id="birthdate" name="birthdate" required>
                    </div>
                    <div class="form-group">
                        <label data-i18n="gender">Gender</label>
                        <div class="gender-options">
                            <label>
                                <input type="radio" name="gender" value="male" required>
                                <span data-i18n="male">Male</span>
                            </label>
                            <label>
                                <input type="radio" name="gender" value="female" required>
                                <span data-i18n="female">Female</span>
                            </label>
                            <label>
                                <input type="radio" name="gender" value="other" required>
                                <span data-i18n="other">Other</span>
                            </label>
                        </div>
                    </div>
                    <button type="button" class="btn-next-step" data-i18n="next">Next</button>
                </div>

                <div class="form-step" id="step-location">
                    <div class="form-group">
                        <label for="country" data-i18n="country">Country</label>
                        <select id="country" name="country" required>
                            <option value="">Select Country</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="city" data-i18n="city">City</label>
                        <select id="city" name="city" required>
                            <option value="">Select City</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="goal" data-i18n="goal">Goal</label>
                        <select id="goal" name="goal" required>
                            <option value="love" data-i18n="goal_love">Love</option>
                            <option value="friendship" data-i18n="goal_friendship">Friendship</option>
                            <option value="chat" data-i18n="goal_chat">Chat</option>
                        </select>
                    </div>
                    <div class="buttons-row">
                        <button type="button" class="btn-prev-step" data-i18n="back">Back</button>
                        <button type="button" class="btn-next-step" data-i18n="next">Next</button>
                    </div>
                </div>

                <div class="form-step" id="step-interests">
                    <div class="form-group">
                        <label data-i18n="interests">Interests</label>
                        <p class="hint" data-i18n="select_interests">Select at least 3 interests</p>
                        <div class="interests-container">
                            <div class="interest-tag" data-interest="music">Music</div>
                            <div class="interest-tag" data-interest="movies">Movies</div>
                            <div class="interest-tag" data-interest="sports">Sports</div>
                            <div class="interest-tag" data-interest="travel">Travel</div>
                            <div class="interest-tag" data-interest="food">Food</div>
                            <div class="interest-tag" data-interest="art">Art</div>
                            <div class="interest-tag" data-interest="books">Books</div>
                            <div class="interest-tag" data-interest="technology">Technology</div>
                            <div class="interest-tag" data-interest="gaming">Gaming</div>
                            <div class="interest-tag" data-interest="fitness">Fitness</div>
                            <div class="interest-tag" data-interest="nature">Nature</div>
                            <div class="interest-tag" data-interest="photography">Photography</div>
                        </div>
                        <input type="hidden" id="interests" name="interests">
                    </div>
                    <div class="buttons-row">
                        <button type="button" class="btn-prev-step" data-i18n="back">Back</button>
                        <button type="button" class="btn-next-step" data-i18n="next">Next</button>
                    </div>
                </div>

                <div class="form-step" id="step-photos">
                    <div class="form-group">
                        <label data-i18n="add_photos">Add Photos</label>
                        <div class="photos-container">
                            <div class="photo-upload-box" id="photo-upload-1">
                                <input type="file" accept="image/*" id="photo-1" name="photo-1" class="photo-input">
                                <label for="photo-1" class="photo-label">
                                    <div class="photo-placeholder">+</div>
                                    <span data-i18n="add_photo">Add Photo</span>
                                </label>
                                <div class="photo-preview"></div>
                            </div>
                            <div class="photo-upload-box" id="photo-upload-2">
                                <input type="file" accept="image/*" id="photo-2" name="photo-2" class="photo-input">
                                <label for="photo-2" class="photo-label">
                                    <div class="photo-placeholder">+</div>
                                    <span data-i18n="add_photo">Add Photo</span>
                                </label>
                                <div class="photo-preview"></div>
                            </div>
                            <div class="photo-upload-box" id="photo-upload-3">
                                <input type="file" accept="image/*" id="photo-3" name="photo-3" class="photo-input">
                                <label for="photo-3" class="photo-label">
                                    <div class="photo-placeholder">+</div>
                                    <span data-i18n="add_photo">Add Photo</span>
                                </label>
                                <div class="photo-preview"></div>
                            </div>
                        </div>
                    </div>
                    <div class="buttons-row">
                        <button type="button" class="btn-prev-step" data-i18n="back">Back</button>
                        <button type="button" class="btn-next-step" data-i18n="next">Next</button>
                    </div>
                </div>

                <div class="form-step" id="step-about">
                    <div class="form-group">
                        <label for="favorite-music" data-i18n="favorite_music">Favorite Music</label>
                        <input type="text" id="favorite-music" name="favorite-music">
                    </div>
                    <div class="form-group">
                        <label for="three-words" data-i18n="three_words">Describe yourself in 3 words</label>
                        <input type="text" id="three-words" name="three-words">
                    </div>
                    <div class="form-group">
                        <label for="referral-code" data-i18n="referral_code">Referral Code (optional)</label>
                        <input type="text" id="referral-code" name="referral-code">
                    </div>
                    <div class="form-group terms-checkbox">
                        <label>
                            <input type="checkbox" id="terms-agree" name="terms-agree" required>
                            <span data-i18n="terms_agree">I agree to the Terms of Use</span>
                        </label>
                        <a href="#" id="view-terms" data-i18n="view_terms">View Terms</a>
                    </div>
                    <div class="buttons-row">
                        <button type="button" class="btn-prev-step" data-i18n="back">Back</button>
                        <button type="submit" class="btn-register" data-i18n="register">Register</button>
                    </div>
                </div>
            </form>
            <div class="login-link">
                <span data-i18n="already_have_account">Already have an account?</span>
                <a href="#" id="go-to-login" data-i18n="login">Login</a>
            </div>
        </div>
    </div>

    <!-- Вход -->
    <div id="login" class="screen hidden">
        <div class="login-container">
            <h1 data-i18n="login">Login</h1>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-email" data-i18n="email">Email</label>
                    <input type="email" id="login-email" name="login-email" required>
                </div>
                <div class="form-group">
                    <label for="login-password" data-i18n="password">Password</label>
                    <input type="password" id="login-password" name="login-password" required>
                </div>
                <button type="submit" class="btn-login" data-i18n="login">Login</button>
            </form>
            <div class="forgot-password">
                <a href="#" id="forgot-password" data-i18n="forgot_password">Forgot Password?</a>
            </div>
            <div class="register-link">
                <span data-i18n="dont_have_account">Don't have an account?</span>
                <a href="#" id="go-to-register" data-i18n="create_account">Create Account</a>
            </div>
        </div>
    </div>

    <!-- Основной интерфейс -->
    <div id="main-app" class="screen hidden">
        <!-- Верхняя панель -->
        <div class="top-bar">
            <div class="logo-small">Flirtya</div>
            <div class="user-profile">
                <img src="assets/images/default-avatar.svg" alt="Profile" id="user-avatar">
            </div>
        </div>

        <!-- Контейнер для страниц -->
        <div class="page-container">
            <!-- Страница свайпов -->
            <div id="swipes-page" class="page active">
                <div class="cards-container">
                    <!-- Карточки будут добавляться динамически -->
                    <div class="no-cards-message hidden" data-i18n="no_more_people">No more people nearby. Try again later!</div>
                </div>
                <div class="swipe-buttons">
                    <button class="btn-dislike" id="dislike">
                        <img src="assets/icons/dislike.svg" alt="Dislike">
                    </button>
                    <button class="btn-superlike" id="superlike">
                        <img src="assets/icons/superlike.svg" alt="Superlike">
                        <span class="superlike-count">3</span>
                    </button>
                    <button class="btn-like" id="like">
                        <img src="assets/icons/like.svg" alt="Like">
                    </button>
                </div>
            </div>

            <!-- Страница чатов -->
            <div id="chats-page" class="page">
                <div class="chats-list">
                    <!-- Чаты будут добавляться динамически -->
                    <div class="no-chats-message" data-i18n="no_chats">No matches yet. Start swiping to find matches!</div>
                </div>
            </div>

            <!-- Страница VIP -->
            <div id="vip-page" class="page">
                <div class="vip-container">
                    <div class="vip-header">
                        <h2 data-i18n="upgrade_experience">Upgrade Your Experience</h2>
                        <p data-i18n="vip_description">Get access to premium features and boost your chances</p>
                    </div>

                    <div class="vip-plans">
                        <div class="vip-plan">
                            <div class="plan-header">
                                <h3>VIP</h3>
                                <div class="plan-price">
                                    <span class="price-value">$19.99</span>
                                    <span class="price-period" data-i18n="per_month">/month</span>
                                </div>
                            </div>
                            <div class="plan-features">
                                <ul>
                                    <li data-i18n="vip_feature_1">VIP badge</li>
                                    <li data-i18n="vip_feature_2">Send messages first</li>
                                    <li data-i18n="vip_feature_3">Unlimited likes</li>
                                    <li data-i18n="vip_feature_4">3 Superlikes daily</li>
                                    <li data-i18n="vip_feature_5">Extended filters</li>
                                    <li data-i18n="vip_feature_6">Daily boost</li>
                                    <li data-i18n="vip_feature_7">No ads</li>
                                </ul>
                            </div>
                            <button class="btn-buy" data-plan="vip" data-period="monthly" data-price="19.99" data-i18n="get_vip">Get VIP</button>
                        </div>

                        <div class="vip-plan premium">
                            <div class="plan-header">
                                <h3>VIP+</h3>
                                <div class="plan-price">
                                    <span class="price-value">$24.99</span>
                                    <span class="price-period" data-i18n="per_month">/month</span>
                                </div>
                            </div>
                            <div class="plan-features">
                                <ul>
                                    <li data-i18n="vip_plus_feature_1">All VIP features</li>
                                    <li data-i18n="vip_plus_feature_2">Priority visibility</li>
                                    <li data-i18n="vip_plus_feature_3">Gifts, Stories, Read status</li>
                                    <li data-i18n="vip_plus_feature_4">See who liked you</li>
                                    <li data-i18n="vip_plus_feature_5">Anonymous mode</li>
                                    <li data-i18n="vip_plus_feature_6">Gift VIP to others</li>
                                </ul>
                            </div>
                            <button class="btn-buy" data-plan="vip-plus" data-period="monthly" data-price="24.99" data-i18n="get_vip_plus">Get VIP+</button>
                        </div>
                    </div>

                    <div class="other-purchases">
                        <h3 data-i18n="other_purchases">Other Purchases</h3>
                        <div class="purchase-items">
                            <div class="purchase-item">
                                <div class="item-info">
                                    <h4 data-i18n="superlikes">Superlikes</h4>
                                    <p data-i18n="superlikes_description">Stand out and get noticed</p>
                                </div>
                                <button class="btn-buy-item" data-item="superlikes" data-quantity="3" data-price="0.99">3 for $0.99</button>
                            </div>
                            <div class="purchase-item">
                                <div class="item-info">
                                    <h4 data-i18n="read_status">Read Status</h4>
                                    <p data-i18n="read_status_description">See when your messages are read</p>
                                </div>
                                <button class="btn-buy-item" data-item="read-status" data-price="0.49">$0.49</button>
                            </div>
                            <div class="purchase-item">
                                <div class="item-info">
                                    <h4 data-i18n="boost">Boost</h4>
                                    <p data-i18n="boost_description">Get more visibility for 1 hour</p>
                                </div>
                                <button class="btn-buy-item" data-item="boost" data-price="1.49">$1.49</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Страница профиля -->
            <div id="profile-page" class="page">
                <div class="profile-container">
                    <div class="profile-header">
                        <div class="profile-photo">
                            <img src="assets/images/default-avatar.svg" alt="Profile" id="profile-photo">
                            <button class="btn-edit-photo" id="edit-profile-photo">
                                <img src="assets/icons/edit.svg" alt="Edit">
                            </button>
                        </div>
                        <div class="profile-info">
                            <h2 id="profile-name">Name, Age</h2>
                            <p id="profile-location">Location</p>
                            <div class="profile-badges" id="profile-badges">
                                <!-- Значки будут добавляться динамически -->
                            </div>
                        </div>
                    </div>

                    <div class="profile-details">
                        <div class="profile-section">
                            <h3 data-i18n="goal">Goal</h3>
                            <p id="profile-goal">Goal</p>
                        </div>
                        <div class="profile-section">
                            <h3 data-i18n="interests">Interests</h3>
                            <div class="profile-interests" id="profile-interests">
                                <!-- Интересы будут добавляться динамически -->
                            </div>
                        </div>
                        <div class="profile-section">
                            <h3 data-i18n="about_me">About Me</h3>
                            <div class="profile-answers">
                                <div class="profile-answer">
                                    <h4 data-i18n="favorite_music">Favorite Music</h4>
                                    <p id="profile-music">Music</p>
                                </div>
                                <div class="profile-answer">
                                    <h4 data-i18n="three_words">Three Words</h4>
                                    <p id="profile-words">Words</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <button id="btn-edit-profile" class="btn-action" data-i18n="edit_profile">Edit Profile</button>
                        <button id="btn-settings" class="btn-action" data-i18n="settings">Settings</button>
                        <button id="btn-logout" class="btn-action danger" data-i18n="logout">Logout</button>
                    </div>
                </div>
            </div>

            <!-- Страница настроек -->
            <div id="settings-page" class="page">
                <div class="settings-container">
                    <h2 data-i18n="settings">Settings</h2>
                    
                    <div class="settings-section">
                        <h3 data-i18n="language">Language</h3>
                        <div class="language-selector">
                            <button class="btn-language active" data-lang="en">English</button>
                            <button class="btn-language" data-lang="ru">Русский</button>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3 data-i18n="discovery">Discovery</h3>
                        <div class="setting-item">
                            <label data-i18n="looking_for">Looking for</label>
                            <div class="setting-options">
                                <button class="btn-option active" data-option="all" data-i18n="all">All</button>
                                <button class="btn-option" data-option="male" data-i18n="men">Men</button>
                                <button class="btn-option" data-option="female" data-i18n="women">Women</button>
                            </div>
                        </div>
                        <div class="setting-item">
                            <label data-i18n="age_range">Age Range</label>
                            <div class="range-slider">
                                <input type="range" id="age-min" min="18" max="80" value="18" class="slider">
                                <input type="range" id="age-max" min="18" max="80" value="50" class="slider">
                                <div class="range-values">
                                    <span id="age-min-value">18</span> - <span id="age-max-value">50</span>
                                </div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <label data-i18n="distance">Distance</label>
                            <div class="range-slider single">
                                <input type="range" id="distance" min="1" max="100" value="50" class="slider">
                                <div class="range-values">
                                    <span id="distance-value">50</span> km
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3 data-i18n="notifications">Notifications</h3>
                        <div class="setting-item toggle">
                            <span data-i18n="new_matches">New Matches</span>
                            <label class="switch">
                                <input type="checkbox" id="notif-matches" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <div class="setting-item toggle">
                            <span data-i18n="new_messages">New Messages</span>
                            <label class="switch">
                                <input type="checkbox" id="notif-messages" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <div class="setting-item toggle">
                            <span data-i18n="likes_received">Likes Received</span>
                            <label class="switch">
                                <input type="checkbox" id="notif-likes" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3 data-i18n="privacy">Privacy</h3>
                        <div class="setting-item toggle">
                            <span data-i18n="show_online">Show Online Status</span>
                            <label class="switch">
                                <input type="checkbox" id="privacy-online" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <div class="setting-item toggle vip-only">
                            <span data-i18n="anonymous_mode">Anonymous Mode</span>
                            <label class="switch">
                                <input type="checkbox" id="privacy-anonymous" disabled>
                                <span class="slider round"></span>
                            </label>
                            <span class="vip-badge" data-i18n="vip_plus_only">VIP+ Only</span>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3 data-i18n="account">Account</h3>
                        <button class="btn-settings-action" id="btn-change-password" data-i18n="change_password">Change Password</button>
                        <button class="btn-settings-action danger" id="btn-delete-account" data-i18n="delete_account">Delete Account</button>
                    </div>

                    <div class="settings-section">
                        <h3 data-i18n="help_support">Help & Support</h3>
                        <button class="btn-settings-action" id="btn-contact-support" data-i18n="contact_support">Contact Support</button>
                        <button class="btn-settings-action" id="btn-terms" data-i18n="terms_of_use">Terms of Use</button>
                        <button class="btn-settings-action" id="btn-privacy" data-i18n="privacy_policy">Privacy Policy</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Нижняя навигация -->
        <div class="bottom-nav">
            <button class="nav-item active" data-page="swipes-page">
                <img src="assets/icons/swipe.svg" alt="Swipe" class="nav-icon">
                <span data-i18n="swipes">Swipes</span>
            </button>
            <button class="nav-item" data-page="chats-page">
                <img src="assets/icons/chat.svg" alt="Chat" class="nav-icon">
                <span data-i18n="chats">Chats</span>
                <span class="badge" id="chats-badge">0</span>
            </button>
            <button class="nav-item" data-page="vip-page">
                <img src="assets/icons/vip.svg" alt="VIP" class="nav-icon">
                <span data-i18n="vip">VIP</span>
            </button>
            <button class="nav-item" data-page="profile-page">
                <img src="assets/icons/profile.svg" alt="Profile" class="nav-icon">
                <span data-i18n="profile">Profile</span>
            </button>
        </div>
    </div>

    <!-- Страница чата -->
    <div id="chat-room" class="screen hidden">
        <div class="chat-header">
            <button class="btn-back" id="chat-back">
                <img src="assets/icons/back.svg" alt="Back">
            </button>
            <div class="chat-user">
                <img src="assets/images/default-avatar.svg" alt="User" id="chat-user-avatar">
                <div class="chat-user-info">
                    <h3 id="chat-user-name">Name</h3>
                    <span id="chat-user-status">Online</span>
                </div>
            </div>
            <button class="btn-chat-options" id="chat-options">
                <img src="assets/icons/options.svg" alt="Options">
            </button>
        </div>

        <div class="messages-container" id="messages-container">
            <!--
