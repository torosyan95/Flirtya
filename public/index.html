<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Flirtya</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <!-- Загрузочный экран -->
    <div id="loading-screen">
        <div class="loading-container">
            <div class="logo-container">
                <div class="logo">
                    <div class="triangle"></div>
                    <div class="logo-text">Flirtya</div>
                </div>
            </div>
            <div class="loader"></div>
        </div>
    </div>

    <!-- Онбординг -->
    <div id="onboarding" class="screen hidden">
        <div class="onboarding-slider">
            <div class="slide active" id="slide-1">
                <div class="slide-content">
                    <h1 data-i18n="onboarding_welcome">Welcome to Flirtya</h1>
                    <p data-i18n="onboarding_subtitle">Find your perfect match right here in Telegram</p>
                    <div class="onboarding-image-container">
                        <div class="onboarding-image image-1"></div>
                    </div>
                </div>
            </div>
            <div class="slide" id="slide-2">
                <div class="slide-content">
                    <h1 data-i18n="onboarding_swipe">Swipe & Match</h1>
                    <p data-i18n="onboarding_swipe_text">Find people who share your interests</p>
                    <div class="onboarding-image-container">
                        <div class="onboarding-image image-2"></div>
                    </div>
                </div>
            </div>
            <div class="slide" id="slide-3">
                <div class="slide-content">
                    <h1 data-i18n="onboarding_chat">Chat & Connect</h1>
                    <p data-i18n="onboarding_chat_text">Start meaningful conversations</p>
                    <div class="onboarding-image-container">
                        <div class="onboarding-image image-3"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="onboarding-controls">
            <div class="dots">
                <span class="dot active" data-slide="0"></span>
                <span class="dot" data-slide="1"></span>
                <span class="dot" data-slide="2"></span>
            </div>
            <div class="buttons">
                <button class="btn-skip" data-i18n="skip">Skip</button>
                <button class="btn-next" data-i18n="next">Next</button>
            </div>
        </div>
    </div>

    <!-- Регистрация -->
    <div id="registration" class="screen hidden">
        <div class="registration-container">
            <h1 data-i18n="create_account">Create Account</h1>
            <form id="registration-form">
                <div class="form-step active" id="step-personal">
                    <div class="form-group">
                        <label for="name" data-i18n="name">Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label data-i18n="gender">Gender</label>
                        <div class="gender-options">
                            <label>
                                <input type="radio" name="gender" value="male" required>
                                <span data-i18n="male">Male</span>
                            </label>
                            <label>
                                <input type="radio" name="gender" value="female" required>
                                <span data-i18n="female">Female</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="birthdate" data-i18n="birth_date">Birth Date</label>
                        <input type="date" id="birthdate" name="birthdate" required>
                    </div>
                    <button type="button" class="btn-next-step" data-i18n="next">Next</button>
                </div>

                <div class="form-step" id="step-location">
                    <div class="form-group">
                        <label for="country" data-i18n="country">Country</label>
                        <select id="country" name="country" required>
                            <option value="">Select Country</option>
                            <option value="ru">Russia</option>
                            <option value="ua">Ukraine</option>
                            <option value="by">Belarus</option>
                            <option value="kz">Kazakhstan</option>
                            <option value="uz">Uzbekistan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="city" data-i18n="city">City</label>
                        <input type="text" id="city" name="city" required>
                    </div>
                    <div class="form-group">
                        <label for="goal" data-i18n="goal">Goal</label>
                        <select id="goal" name="goal" required>
                            <option value="love" data-i18n="goal_love">Love</option>
                            <option value="friendship" data-i18n="goal_friendship">Friendship</option>
                            <option value="chat" data-i18n="goal_chat">Chat</option>
                        </select>
                    </div>
                    <div class="buttons-row">
                        <button type="button" class="btn-prev-step" data-i18n="back">Back</button>
                        <button type="button" class="btn-next-step" data-i18n="next">Next</button>
                    </div>
                </div>

                <div class="form-step" id="step-interests">
                    <div class="form-group">
                        <label data-i18n="interests">Interests</label>
                        <p class="hint" data-i18n="select_interests">Select at least 3 interests</p>
                        <div class="interests-container">
                            <div class="interest-tag" data-interest="music">Music</div>
                            <div class="interest-tag" data-interest="movies">Movies</div>
                            <div class="interest-tag" data-interest="sports">Sports</div>
                            <div class="interest-tag" data-interest="travel">Travel</div>
                            <div class="interest-tag" data-interest="food">Food</div>
                            <div class="interest-tag" data-interest="art">Art</div>
                            <div class="interest-tag" data-interest="books">Books</div>
                            <div class="interest-tag" data-interest="technology">Technology</div>
                        </div>
                        <input type="hidden" id="interests" name="interests">
                    </div>
                    <div class="buttons-row">
                        <button type="button" class="btn-prev-step" data-i18n="back">Back</button>
                        <button type="button" class="btn-next-step" data-i18n="next">Next</button>
                    </div>
                </div>

                <div class="form-step" id="step-photos">
                    <div class="form-group">
                        <label data-i18n="add_photos">Add Photos</label>
                        <div class="photos-container">
                            <div class="photo-upload-box" id="photo-upload-1">
                                <input type="file" accept="image/*" id="photo-1" name="photo-1" class="photo-input">
                                <label for="photo-1" class="photo-label">
                                    <div class="photo-placeholder">+</div>
                                    <span data-i18n="add_photo">Add Photo</span>
                                </label>
                                <div class="photo-preview"></div>
                            </div>
                            <div class="photo-upload-box" id="photo-upload-2">
                                <input type="file" accept="image/*" id="photo-2" name="photo-2" class="photo-input">
                                <label for="photo-2" class="photo-label">
                                    <div class="photo-placeholder">+</div>
                                    <span data-i18n="add_photo">Add Photo</span>
                                </label>
                                <div class="photo-preview"></div>
                            </div>
                            <div class="photo-upload-box" id="photo-upload-3">
                                <input type="file" accept="image/*" id="photo-3" name="photo-3" class="photo-input">
                                <label for="photo-3" class="photo-label">
                                    <div class="photo-placeholder">+</div>
                                    <span data-i18n="add_photo">Add Photo</span>
                                </label>
                                <div class="photo-preview"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group terms-checkbox">
                        <label>
                            <input type="checkbox" id="terms-agree" name="terms-agree" required>
                            <span data-i18n="terms_agree">I agree to the Terms of Use</span>
                        </label>
                        <a href="#" id="view-terms" data-i18n="view_terms">View Terms</a>

        </div>
                    <div class="buttons-row">
                        <button type="button" class="btn-prev-step" data-i18n="back">Back</button>
                        <button type="submit" class="btn-register" data-i18n="register">Register</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Основное приложение -->
    <div id="main-app" class="screen hidden">
        <!-- Верхняя панель -->
        <div class="top-bar">
            <div class="logo-small">Flirtya</div>
            <div class="user-profile">
                <img src="assets/images/default-avatar.svg" alt="Profile" id="user-avatar">
            </div>
        </div>

        <!-- Контейнер для страниц -->
        <div class="page-container">
            <!-- Страница свайпов -->
            <div id="swipes-page" class="page active">
                <div class="cards-container">
                    <!-- Карточки будут добавляться динамически -->
                    <div class="no-cards-message hidden" data-i18n="no_more_people">No more people nearby. Try again later!</div>
                </div>
                <div class="swipe-buttons">
                    <button class="btn-dislike" id="dislike">
                        <img src="assets/icons/dislike.svg" alt="Dislike">
                    </button>
                    <button class="btn-superlike" id="superlike">
                        <img src="assets/icons/superlike.svg" alt="Superlike">
                        <span class="superlike-count">3</span>
                    </button>
                    <button class="btn-like" id="like">
                        <img src="assets/icons/like.svg" alt="Like">
                    </button>
                </div>
            </div>

            <!-- Страница чатов -->
            <div id="chats-page" class="page">
                <div class="chats-list">
                    <!-- Чаты будут добавляться динамически -->
                    <div class="no-chats-message" data-i18n="no_chats">No matches yet. Start swiping to find matches!</div>
                </div>
            </div>

            <!-- Страница VIP -->
            <div id="vip-page" class="page">
                <div class="vip-container">
                    <div class="vip-header">
                        <h2 data-i18n="upgrade_experience">Upgrade Your Experience</h2>
                        <p data-i18n="vip_description">Get access to premium features and boost your chances</p>
                    </div>

                    <div class="vip-plans">
                        <div class="vip-plan">
                            <div class="plan-header">
                                <h3>VIP</h3>
                                <div class="plan-price">
                                    <span class="price-value">$19.99</span>
                                    <span class="price-period" data-i18n="per_month">/month</span>
                                </div>
                            </div>
                            <div class="plan-features">
                                <ul>
                                    <li data-i18n="vip_feature_1">VIP badge</li>
                                    <li data-i18n="vip_feature_2">Send messages first</li>
                                    <li data-i18n="vip_feature_3">Unlimited likes</li>
                                    <li data-i18n="vip_feature_4">3 Superlikes daily</li>
                                    <li data-i18n="vip_feature_5">Extended filters</li>
                                    <li data-i18n="vip_feature_6">Daily boost</li>
                                    <li data-i18n="vip_feature_7">No ads</li>
                                </ul>
                            </div>
                            <button class="btn-buy" data-plan="vip_monthly" data-period="monthly" data-price="19.99" data-i18n="get_vip">Get VIP</button>
                        </div>

                        <div class="vip-plan premium">
                            <div class="plan-header">
                                <h3>VIP+</h3>
                                <div class="plan-price">
                                    <span class="price-value">$24.99</span>
                                    <span class="price-period" data-i18n="per_month">/month</span>
                                </div>
                            </div>
                            <div class="plan-features">
                                <ul>
                                    <li data-i18n="vip_plus_feature_1">All VIP features</li>
                                    <li data-i18n="vip_plus_feature_2">Priority visibility</li>
                                    <li data-i18n="vip_plus_feature_3">Gifts, Stories, Read status</li>
                                    <li data-i18n="vip_plus_feature_4">See who liked you</li>
                                    <li data-i18n="vip_plus_feature_5">Anonymous mode</li>
                                    <li data-i18n="vip_plus_feature_6">Gift VIP to others</li>
                                </ul>
                            </div>
                            <button class="btn-buy" data-plan="vip_plus_monthly" data-period="monthly" data-price="24.99" data-i18n="get_vip_plus">Get VIP+</button>
                        </div>
                    </div>

                    <div class="other-purchases">
                        <h3 data-i18n="other_purchases">Other Purchases</h3>
                        <div class="purchase-items">
                            <div class="purchase-item">
                                <div class="item-info">
                                    <h4 data-i18n="superlikes">Superlikes</h4>
                                    <p data-i18n="superlikes_description">Stand out and get noticed</p>
                                </div>
                                <button class="btn-buy-item" data-item="superlikes" data-quantity="5" data-price="2.99">5 for $2.99</button>
                            </div>
                            <div class="purchase-item">
                                <div class="item-info">
                                    <h4 data-i18n="boost">Boost</h4>
                                    <p data-i18n="boost_description">Get more visibility for 1 hour</p>
                                </div>
                                <button class="btn-buy-item" data-item="boost" data-price="1.49">$1.49</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Страница профиля -->
            <div id="profile-page" class="page">
                <div class="profile-container">
                    <div class="profile-header">
                        <div class="profile-photo">
                            <img src="assets/images/default-avatar.svg" alt="Profile" id="profile-photo">
                            <button class="btn-edit-photo" id="edit-profile-photo">
                                <img src="assets/icons/edit.svg" alt="Edit">
                            </button>
                        </div>
                        <div class="profile-info">
                            <h2 id="profile-name">Name, Age</h2>
                            <p id="profile-location">Location</p>
                            <div class="profile-badges" id="profile-badges">
                                <!-- Значки будут добавляться динамически -->
                            </div>
                        </div>
                    </div>

                    <div class="profile-details">
                        <div class="profile-section">
                            <h3 data-i18n="goal">Goal</h3>
                            <p id="profile-goal">Goal</p>
                        </div>
                        <div class="profile-section">
                            <h3 data-i18n="interests">Interests</h3>
                            <div class="profile-interests" id="profile-interests">
                                <!-- Интересы будут добавляться динамически -->
                            </div>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <button id="btn-edit-profile" class="btn-action" data-i18n="edit_profile">Edit Profile</button>
                        <button id="btn-settings" class="btn-action" data-i18n="settings">Settings</button>
                        <button id="btn-logout" class="btn-action danger" data-i18n="logout">Logout</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Нижняя навигация -->
        <div class="bottom-nav">
            <button class="nav-item active" data-page="swipes-page">
                <img src="assets/icons/swipe.svg" alt="Swipe" class="nav-icon">
                <span data-i18n="swipes">Swipes</span>
            </button>
            <button class="nav-item" data-page="chats-page">
                <img src="assets/icons/chat.svg" alt="Chat" class="nav-icon">
                <span data-i18n="chats">Chats</span>
                <span class="badge" id="chats-badge">0</span>
            </button>
            <button class="nav-item" data-page="vip-page">
                <img src="assets/icons/vip.svg" alt="VIP" class="nav-icon">
                <span data-i18n="vip">VIP</span>
            </button>
            <button class="nav-item" data-page="profile-page">
                <img src="assets/icons/profile.svg" alt="Profile" class="nav-icon">
                <span data-i18n="profile">Profile</span>
            </button>
        </div>
    </div>

    <!-- Чат -->
    <div id="chat-room" class="screen hidden">
        <div class="chat-header">
            <button class="btn-back" id="chat-back">
                <img src="assets/icons/back.svg" alt="Back">
            </button>
            <div class="chat-user">
                <img src="assets/images/default-avatar.svg" alt="User" id="chat-user-avatar">
                <div class="chat-user-info">
                    <h3 id="chat-user-name">Name</h3>
                    <span id="chat-user-status">Online</span>
                </div>
            </div>
            <button class="btn-chat-options" id="chat-options">
                <img src="assets/icons/options.svg" alt="Options">
            </button>
        </div>

        <div class="messages-container" id="messages-container">
            <!-- Сообщения будут добавляться динамически -->
        </div>

        <div class="chat-input-container">
            <div class="message-input">
                <input type="text" placeholder="Type a message..." id="message-input">
                <button class="btn-attach" id="attach-file">
                    <img src="assets/icons/attach.svg" alt="Attach">
                </button>
            </div>
            <button class="btn-send" id="send-message">
                <img src="assets/icons/send.svg" alt="Send">
            </button>
        </div>
    </div>

    <!-- Модальные окна -->
    <div id="modal-container" class="hidden"></div>

    <!-- Скрипты -->
    <script>
    // Принудительно скрыть экран загрузки через 3 секунды
    setTimeout(function() {
        const loadingScreen = document.getElementById('loading-screen');
        if (loadingScreen) {
            loadingScreen.style.display = 'none';
        }
        const onboarding = document.getElementById('onboarding');
        if (onboarding) {
            onboarding.style.display = 'block';
            onboarding.classList.remove('hidden');
        }
    }, 3000);

    // Проверка и инициализация после загрузки DOM
    document.addEventListener('DOMContentLoaded', function() {
        // Если приложение все еще на экране загрузки через 5 секунд, принудительно скрываем
        setTimeout(function() {
            const loadingScreen = document.getElementById('loading-screen');
            if (loadingScreen && loadingScreen.style.display !== 'none') {
                loadingScreen.style.display = 'none';
                
                // Показываем онбординг
                const onboarding = document.getElementById('onboarding');
                if (onboarding) {
                    onboarding.style.display = 'block';
                    onboarding.classList.remove('hidden');
                }
            }
        }, 5000);
    });
    </script>
    <script src="js/i18n.js"></script>
    <script src="js/payment.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
